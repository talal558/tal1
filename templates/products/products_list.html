{% load static %}
{% include 'header.html' %}

<style>
  main {
    padding: 40px;
    font-family: 'Segoe UI', Tahoma, 'Amiri', sans-serif;
    background-color: #f1f3f5;
  }

  .products-title {
    text-align: center;
    font-size: 32px;
    margin-bottom: 40px;
    color: #007bff;
  }

  .products-grid {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 30px;
  }

  .product-card {
    width: 280px;
    background: white;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    text-align: center;
    transition: transform 0.3s ease;
  }

  .product-card:hover {
    transform: translateY(-6px);
  }

  .product-card img {
    width: 100%;
    height: 180px;
    object-fit: cover;
    border-radius: 8px;
  }

  .product-card h3 {
    margin-top: 15px;
    color: #333;
  }

  .product-card p.description {
    color: #666;
    font-size: 15px;
    margin: 10px 0;
  }

  .product-card p.price {
    font-weight: bold;
    color: #007bff;
    margin-bottom: 12px;
  }

  .product-card a {
    display: inline-block;
    margin-top: 5px;
    padding: 8px 16px;
    background-color: #007bff;
    color: white;
    border-radius: 6px;
    text-decoration: none;
    transition: background-color 0.3s ease;
  }

  .product-card a:hover {
    background-color: #0056b3;
  }

  .no-products {
    text-align: center;
    font-size: 18px;
    margin-top: 40px;
  }
</style>

<main>
  <h2 class="products-title">منتجاتنا الرقمية</h2>

  {% if products %}
    <section class="products-grid">
      {% for product in products %}
        <div class="product-card">
          {% if product.image %}
            <img src="{{ product.image.url }}" alt="{{ product.title }}">
          {% else %}
            <img src="{% static 'images/no-image.png' %}" alt="لا توجد صورة">
          {% endif %}

          <h3>{{ product.title }}</h3>
          <p class="description">{{ product.description|truncatewords:20 }}</p>
          <p class="price">{{ product.price }} ريال</p>
          <a href="{% url 'products:detail' product.id %}">عرض المنتج</a>
        </div>
      {% endfor %}
    </section>
  {% else %}
    <p class="no-products">لا توجد منتجات حالياً.</p>
  {% endif %}
</main>

{% include 'footer.html' %}
